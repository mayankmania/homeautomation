var events = require('events');
var eventEmitter = new events.EventEmitter();

var sb = function () {

    this.subscribe = function (event, callback) {
        eventEmitter.on(event, callback);
    }

    this.publish = function (event, data) {
        eventEmitter.emit(event, data);
        eventEmitter.removeAllListeners(event);
    }
}

module.exports = new sb;